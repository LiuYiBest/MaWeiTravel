{"version":3,"sources":["uni-app:///main.js","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?f077","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?1465","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?00af","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?b128","uni-app:///pages/details/detalis.vue","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?04ed","webpack:///E:/3.0/MaWeiTravel/pages/details/detalis.vue?faf2"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmzB,CAAgB,m0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsBv0B;AACA;AACA;AACA,4C;;AAEA;AACA,iBADA;AAEA;AACA,cADA;AAEA,kBAFA;AAGA,kBAHA;AAIA,oBAJA,EAFA;;AAQA,MARA,kBAQA;AACA;AACA,kBADA;AAEA,kBAFA;AAGA,gBAHA;AAIA,oBAJA;AAKA,mBALA;;AAOA,GAhBA;;AAkBA;AACA;AACA,cAFA,sBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA,KAbA;;AAeA;AACA,aAhBA,qBAgBA,EAhBA,EAgBA;AACA;AACA,eADA;;AAGA,SAHA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,WAXA,CAWA;AACA;AACA,OAbA;AAcA,KA/BA;;AAiCA;AACA,eAlCA,uBAkCA,EAlCA,EAkCA;AACA;AACA,cADA;;AAGA,aAHA,CAGA,kBAHA,EAGA,MAHA;AAIA,SAJA;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,WAXA,CAWA;AACA;AACA,OAbA;AAcA,KAjDA;;AAmDA;AACA,cApDA,sBAoDA,OApDA,EAoDA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA/DA;;AAiEA;AACA,gBAlEA,wBAkEA,CAlEA,EAkEA;AACA;AACA;AACA;AACA,KAtEA;AAuEA;AACA,gBAxEA,wBAwEA,IAxEA,EAwEA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/EA;;AAiFA;AACA,aAlFA,qBAkFA,KAlFA,EAkFA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AAEA,KA5FA;;AA8FA;AACA,cA/FA,sBA+FA,OA/FA,EA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA,uBAFA;;AAIA,OANA;AAOA,KA1GA;;;AA6GA;AACA,UA9GA,kBA8GA,CA9GA,EA8GA;AACA;AACA,yBAFA,CAEA;AACA;AACA;AACA;AACA;AACA,KArHA,EAlBA,E;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAypC,CAAgB,4oCAAG,EAAC,C;;;;;;;;;;;ACA7qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/details/detalis.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/details/detalis.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detalis.vue?vue&type=template&id=7cae4d72&\"\nvar renderjs\nimport script from \"./detalis.vue?vue&type=script&lang=js&\"\nexport * from \"./detalis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detalis.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/details/detalis.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detalis.vue?vue&type=template&id=7cae4d72&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detalis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detalis.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"scroll-flex\" v-show=\"!showsc\" :style=\"{opacity:stylecity}\">\r\n\t\t\t\t<Navs></Navs>\r\n\t\t</view>\r\n\t\t<Banner :detaildata=\"detaildata\"></Banner>\r\n\t\t<!-- 图片视频详情组件 -->\r\n\t\t<view class=\"matter-page\">\r\n\t\t\t<Matter :detaildata=\"detaildata\"></Matter>\r\n\t\t</view>\r\n\t\t<!-- 留言组件 -->\r\n\t\t<view class=\"message-page\">\r\n\t\t\t<Message :leaveword = \"leaveword\" :detaid = \"detaid\"></Message>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport Navs from './components/navs.vue'\n\timport Banner from './components/banner.vue'\n\timport Matter from './components/matter.vue'\n\timport Message from './components/message.vue'\r\n\t// 定义操作数据库\r\n\tvar db = wx.cloud.database()\r\n\tvar listdata = db.collection('userdata')\r\n\tvar messdatabase = db.collection('message')\r\n\t\r\n\texport default{\r\n\t\tname:'datails',\r\n\t\tcomponents:{\r\n\t\t\tNavs,\r\n\t\t\tBanner,\r\n\t\t\tMatter,\r\n\t\t\tMessage,\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tshowsc:true,\r\n\t\t\t\tstylecity:0,\r\n\t\t\t\tdetaid:'',\r\n\t\t\t\tdetaildata:{},\r\n\t\t\t\tleaveword:[],\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\t//监听页面滚动\r\n\t\t\thandScroll(top){\r\n\t\t\t\tif(top>90){\r\n\t\t\t\t\t// console.log('距离顶部90px')\r\n\t\t\t\t\tlet opacity = top / 140\r\n\t\t\t\t\topacity = opacity > 1 ? 1 : opacity\r\n\t\t\t\t\t// console.log(opacity)\r\n\t\t\t\t\tthis.stylecity = opacity\r\n\t\t\t\t\tthis.showsc = false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.showsc = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\t\r\n\t\t\t//请求查询数据库有没有这个id\r\n\t\t\tdetailrep(id){\r\n\t\t\t\tlistdata.where({\r\n\t\t\t\t\t_id:id\r\n\t\t\t\t})\r\n\t\t\t\t.get()\r\n\t\t\t\t.then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// 赋值取到的详情页数据\r\n\t\t\t\t\tthis.detaildata = res.data[0].datainfo\r\n\t\t\t\t\t// this.detaildata.staticimg.slice(0,3)\r\n\t\t\t\t\t// console.log(this.detaildata.staticimg.slice(0,3))\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 请求全部留言数据\r\n\t\t\tmessagedata(id){\r\n\t\t\t\tmessdatabase.where({\r\n\t\t\t\t\tid:id\r\n\t\t\t\t})\r\n\t\t\t\t.orderBy('messagedata.time', 'desc')\r\n\t\t\t\t.get()\r\n\t\t\t\t.then((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet resdata = res.data\r\n\t\t\t\t\t// 取出留言列表\r\n\t\t\t\t\tthis.publicMess(resdata)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err)=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 取出留言列表\r\n\t\t\tpublicMess(resdata){\r\n\t\t\t\tvar leaveword = resdata.map((item)=>{\r\n\t\t\t\t\t return item.messagedata\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(leaveword)\r\n\t\t\t\tif(leaveword.length === 0){\r\n\t\t\t\t\tthis.nonedata = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.nonedata = false\r\n\t\t\t\t\tthis.leaveword = leaveword\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//onPageScroll微信监听页面滚动\r\n\t\t\tonPageScroll(e) {\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tlet top = e.scrollTop\r\n\t\t\t\tthis.handScroll(top)\r\n\t\t\t},\r\n\t\t\t// 子组件执行父组件方法，请求留言数据\r\n\t\t\tfatherMethod(item){\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tif(item == \"全部\"){\r\n\t\t\t\t\tthis.messagedata(this.detaid)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('iten为空')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 描点链接跳转\r\n\t\t\tfatherTab(index){\r\n\t\t\t\t// console.log(index)\r\n\t\t\t\tif(index === 1){\r\n\t\t\t\t\tlet datails = '.matter-page'\r\n\t\t\t\t\tthis.pageScroll(datails)\r\n\t\t\t\t}else if(index == 2){\r\n\t\t\t\t\tlet datails = '.message-page'\r\n\t\t\t\t\tthis.pageScroll(datails)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\t// 描点链接跳转\r\n\t\t\tpageScroll(datails){\r\n\t\t\t\tconst query = this.createSelectorQuery();\r\n\t\t\t\tquery.select(datails).boundingClientRect()\r\n\t\t\t\tquery.selectViewport().scrollOffset();\r\n\t\t\t\tquery.exec((res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\twx.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop:res[0].top + res[1].scrollTop - 35,\r\n\t\t\t\t\t\tduration: 300\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\r\n\t\t\t\r\n\t\t\t// 接收列表页的id值\r\n\t\t\tonLoad(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.detaid =e.id //  e.id\r\n\t\t\t\t// 请求查询数据库有没有这个id,取到图片视频\r\n\t\t\t\tthis.detailrep(this.detaid)\r\n\t\t\t\t// 请求留言数据\r\n\t\t\t\tthis.messagedata(this.detaid)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\n</script>\n\n\n\n<style>\n\tpage{\n\t\t\tbackground: #f8f8f8;\n\t\t}\n\t.scroll-flex{\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: #33AEFF;\n\t\tz-index: 2;\n\t}\n</style>","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detalis.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.3.1.22.20210709.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detalis.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1632466053900\n      var cssReload = require(\"D:/HBuilder/HBuilderX.3.1.22.20210709.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}